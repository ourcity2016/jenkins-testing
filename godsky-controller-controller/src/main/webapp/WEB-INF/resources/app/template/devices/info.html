<div class="container-fluid" ng-controller="devicesController">
    <div class="row">
        <span class="label label-default">当前</span><span class="label label-success">设备状况</span>
        <span ng-if="!freshFlag" class="label label-info pull-right" style="margin-right: 20px;cursor: pointer" ng-click="autoFresh()">自动刷新设备状态关闭</span>
        <span ng-if="freshFlag>0" class="label label-success pull-right" style="margin-right: 20px;cursor: pointer" ng-click="autoFresh()">自动刷新设备状态打开</span>
    </div>
    <div class="row">
        <table id="tableDevices" class="table table-striped table-hover" style="word-break:break-all; word-wrap:break-all;">
            <caption></caption>
            <thead>
            <td>设备编号</td>
            <td>设备名称</td>
            <td>设备模式</td>
            <td>设备呼吸模式</td>
            <td>设备引脚</td>
            <td>设备PWM支持</td>
            <td>设备初始化值</td>
            <td>设备类型</td>
            <td>设备状态</td>
            <td>设备电源大小</td>
            <td>物理开关编号</td>
            <td>物理开关引脚</td>
            <td>物理开关类型</td>
            <td>物理开关名称</td>
            <td>物理开关模式</td>
            <td>物理开关初始</td>
            <td class="text-center">设备开关</td>
            <td class="text-center">设备设置</td>
            <td>设备说明</td>
            </thead>
            <tbody>
            <tr ng-repeat="deviceModel in devicesInfoData.lightList" class="repeat-animation">
                <td>{{deviceModel.id}}
                </td>
                <td>{{deviceModel.deviceName}}
                </td>
                <td ng-if="deviceModel.mode=='OUTPUT'"><span class="label label-default">输出</span>
                </td>
                <td ng-if="deviceModel.mode=='INPUT'"><span class="label label-default">输入</span>
                </td>
                <td ng-if="deviceModel.breath==true"><span class="label label-warning">支持</span>
                </td>
                <td ng-if="deviceModel.breath==false"><span class="label label-danger">不支持</span>
                </td>
                <td><span class="label label-default">{{deviceModel.deviceFooter}}</span>
                </td>
                <td ng-if="deviceModel.pwm==true"><span class="label label-warning">支持</span>
                </td>
                <td ng-if="deviceModel.pwm==false"><span class="label label-danger">不支持</span>
                </td>
                <td ng-if="deviceModel.setup==0"><span class="label label-warning">低电平</span>
                </td>
                <td ng-if="deviceModel.setup==1"><span class="label label-warning">高电平</span>
                </td>
                <td>{{deviceModel.deviceType}}
                </td>
                <td><span id="{{deviceModel.id}}-{{deviceModel.aSwitch.id}}" class="label label-info" lightness="{{deviceModel.deviceStatus}}">未知</span>
                </td>
                <td>{{deviceModel.powerSize}}v
                </td>
                <td>{{deviceModel.aSwitch.id}}
                </td>
                <td><span class="label label-danger">{{deviceModel.aSwitch.switchFooter}}</span>
                </td>
                <td>{{deviceModel.aSwitch.switchType}}
                </td>
                <td>{{deviceModel.aSwitch.switchName}}
                </td>
                <td ng-if="deviceModel.aSwitch.switchMode=='OUTPUT'"><span class="label label-default">输出</span>
                </td>
                <td ng-if="deviceModel.aSwitch.switchMode=='INPUT'"><span class="label label-default">输入</span>
                </td>
                <td ng-if="deviceModel.aSwitch.switchSetup==0"><span class="label label-warning">低电平</span>
                </td>
                <td ng-if="deviceModel.aSwitch.switchSetup==1"><span class="label label-warning">高电平</span>
                </td>
                <td class="text-center">
                    <button type="button" class="btn btn-xs btn-info" ng-click="toggleDevice(deviceModel)">打开/关闭</button>
                </td>
                <td class="text-center">
                    <button type="button" class="btn btn-xs btn-info" ng-click="do(deviceModel)">设置</button>
                </td>
                <td>{{deviceModel.describeInfo}}
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="row" id="modualParent">
        <!-- 模态框（Modal） -->
        <div class="modal fade" id="myModal" data-target="#modualParent" tabindex="-1" role="dialog"
             aria-labelledby="myModalLabel" aria-hidden="false">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="myModalLabel"></h4>
                    </div>
                    <div id="modalBody" class="modal-body">
                        <form role="form">
                            <div id="lightness" class="row form-group text-center">
                            </div>
                            <!--<div class="row form-group text-center">-->
                                <!--<label>开关</label>-->
                                <!--<select id="deviceSelect" class="selectpicker">-->
                                <!--</select>-->
                            <!--</div>-->
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary disabled">提交更改</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal -->
        </div>
    </div>
</div>